<ion-header class="ion-hide-md-down">
  <ion-toolbar class="ion-padding-end">
    <ion-buttons slot="end" class="ion-hide-md-down ion-padding-end ion-margin-end">
      <ion-button routerDirection="forward"
      (featureClick)="gotoBroadcastMessage()"
      appFeatureCheck
      [featureIdList]="['broadcast-message']"
      >
        <ion-icon slot="icon-only" name="megaphone"></ion-icon>
      </ion-button>
      <ion-button routerDirection="forward" (click)="gotoChangeOrgName()">
        <ion-icon slot="icon-only" name="qr-code"></ion-icon>
      </ion-button>
      </ion-buttons>
    <ion-title>Admin</ion-title>
  </ion-toolbar>
</ion-header>
<ion-header class="ion-hide-md-up">

  <ion-toolbar class="ion-padding-end">
    <ion-buttons slot="end" class="ion-hide-md-up ion-padding-end ion-margin-end">
      <ion-button routerDirection="forward"
      (featureClick)="gotoBroadcastMessage()"
      appFeatureCheck
      [featureIdList]="['broadcast-message']"
      >
        <ion-icon slot="icon-only" name="megaphone"></ion-icon>
      </ion-button>
      <ion-button routerDirection="forward" (click)="gotoChangeOrgName()">
        <ion-icon slot="icon-only" name="qr-code"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Admin</ion-title>
  </ion-toolbar>
</ion-header>


<ion-content>
  <ion-row class="height-background">
    <!-- <ion-col>
    <ion-row>
    <ion-col size="12" size-xl="1">
    </ion-col> -->
    <ion-col>
      <!-- <ion-card>
        <ion-card-header> -->
        <ion-searchbar
          placeholder="Search by name, email, status or role"
          [(ngModel)]="textSearch"
          (ionChange)="filterAllMembers()"
          (ionClear)="filterAllMembers()">
        </ion-searchbar>
          <ion-list>
              <ion-item>
                <ion-label>
                  <h1>Members</h1>
                  <p>{{orgProfile?.noOfUserAllowed -
                    orgProfile?.noOfFreeLicense}}-of-{{orgProfile?.noOfUserAllowed}} licenses are in use</p>
                </ion-label>
                <ion-button slot="end" size="small" (click)="gotoAddMemberPage()" class="ion-hide-md-up">
                  <ion-icon name="person-add" slot="start"></ion-icon>
                  Add user
                </ion-button>
              </ion-item>
          <ion-item *ngFor="let member of allMembers">
            <ion-avatar [ngStyle]="{'height':'auto','width':'40px'}" slot="start">
              <img *ngIf="member?.picUrl != ''" src="{{member?.picUrl}}" [ngStyle]="{'height':'40px','width':'40px'}">
              <ion-icon *ngIf="!member?.picUrl" color="primary" name="person-circle" [ngStyle]="{'height':'40px','width':'40px'}">
              </ion-icon>
              <p class="ion-no-margin ion-no-padding ion-text-lowercase ion-text-center app-oneline"><small><ion-text [color]="member.role == 'ADMIN'?'success':member.role == 'USER'?'medium':'warning'">{{member.role == 'ADMIN'? member?.role : ''}}</ion-text></small></p>
            </ion-avatar>
            <ion-label>
              <h3>{{member.name}}</h3>
              <p>{{member.email}}</p>
              <p>{{member.jobTitle}}</p>
            </ion-label>
            <ion-chip outline=true slot="end" [color]="member.status == 'ACTIVE'?'success':member.status == 'REGISTERED'?'warning':member.status == 'EXTERNAL'?'primary':'danger'">
              <ion-label class="ion-text-lowercase">{{member.status != 'ACTIVE'? member.status : member?.role }}</ion-label>
            </ion-chip>
            <ion-button slot="end" fill="clear" (click)="memberManageActionSheet(member)">
              <ion-icon name="ellipsis-vertical-outline"></ion-icon>
            </ion-button>
          </ion-item>
        </ion-list>
          <div *ngIf="addMember">
            <app-add-member [showHeader]="false"></app-add-member>
          </div>
        <!-- </ion-card-content>
      </ion-card> -->
    </ion-col>
    <!-- <ion-col size="12" size-xl="1">
    </ion-col>
    </ion-row>
    </ion-col> -->

    <ion-col class="ion-hide-md-down ion-no-padding" >
      <!-- <ion-row>
        <ion-col> -->
          <app-add-member  [showHeader]="false"></app-add-member>
        <!-- </ion-col> -->
      <!-- </ion-row> -->
    </ion-col>
  </ion-row>

</ion-content>
