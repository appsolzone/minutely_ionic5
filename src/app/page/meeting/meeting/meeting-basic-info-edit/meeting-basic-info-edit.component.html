<ion-item  class="">
  <ion-label>
    <ion-icon name="time-outline"></ion-icon> Meeting Start
  </ion-label>
  <ion-datetime displayFormat="DD MMM, YYYY HH:mm"
    [min]="minMeetingDate" [max]="meetingDetails.meetingEnd ? meetingDetails.meetingEnd : defaultMaxDate"
    [(ngModel)]="meetingDetails.meetingStart" (ionChange)="dateChange()"
    placeholder="Please select meeting start time"
    >
  </ion-datetime>
</ion-item>
<ion-item  *ngIf="meetingDetails.meetingStart" class="">
  <ion-label>
    <ion-icon name="time-outline"></ion-icon> Meeting End
  </ion-label>
  <ion-datetime displayFormat="DD MMM, YYYY HH:mm"
    [min]="meetingDetails.meetingStart"
    [(ngModel)]="meetingDetails.meetingEnd" (ionChange)="dateChange()"
    placeholder="Please select meeting end time"
    >
  </ion-datetime>
</ion-item>
<ion-item   lines="none">
  <ion-label>
    <ion-icon name="book"></ion-icon>
    Meeting title
  </ion-label>
  <ion-input readonly="true"></ion-input>
  <ion-buttons slot="end">
    <ion-button  class="titleSpeech" slot="end" color="success" (click)="startSpeech('meetingTitle')">
      <ion-icon slot="icon-only" name="mic"></ion-icon>
    </ion-button>
  </ion-buttons>
</ion-item>
<ion-item  class="meetingTitle">
  <ion-textarea required="true" autoGrow="true" wrap="soft" spellcheck="true"
    [(ngModel)]="meetingDetails.meetingTitle"
    placeholder="Please enter meeting title"
    [value]="meetingDetails?.meetingTitle"></ion-textarea>
</ion-item>
<ion-item >
  <ion-label>
    <ion-icon name="pricetags"></ion-icon>
    Tags
  </ion-label>
  <ion-input [(ngModel)]="meetingTag" [value]="meetingTag"
    placeholder="Please enter tag keyword"
    (keyup.enter)="addTag()"
    ></ion-input>
  <ion-buttons slot="end">
    <ion-button slot="end" (click)="addTag()" color="medium">
      <ion-icon slot="icon-only" name="add-circle-outline" size="large"></ion-icon>
    </ion-button>
  </ion-buttons>
</ion-item>
<ion-item *ngIf="meetingDetails?.tags?.length>0" lines="none" class="ion-text-wrap">
  <ion-label class="ion-text-wrap">
    <ion-chip *ngFor="let data of meetingDetails?.tags; let i = index" outline="true" color="primary"
      (click)="removeTag(i)"
    >{{data}}</ion-chip>
    <p><small><ion-text color="warning">Tap or click on the tag you wish to remove from the list</ion-text></small></p>
  </ion-label>
</ion-item>
<ion-item>
  <ion-label>
    <ion-icon name="repeat" class="icons"></ion-icon>
    Recurring event
  </ion-label>
  <ion-toggle slot="end" class="recurrenceMeeting"
    [(ngModel)]="meetingDetails.isOccurence"
    ></ion-toggle>
</ion-item>
<ion-item *ngIf="meetingDetails?.isOccurence && editMode=='update'">
  <ion-label>
    <ion-icon name="shuffle"></ion-icon>
    Propagate to future meetings
  </ion-label>
  <ion-toggle slot="end"
    [(ngModel)]="refInformation.toCascadeChanges" color="danger"
    (ionChange)="onCascadeChanges($event)"
    ></ion-toggle>
</ion-item>
<div *ngIf="meetingDetails?.isOccurence">
  <!-- <ion-item class="" *ngIf="meetingDetails?.eventSequenceId">
    <ion-label>
      <ion-icon name="sync" class="icons"></ion-icon>
      Recurring meeting no
    </ion-label>
    <ion-input class="ion-text-end" type="text" readonly="true" [value]="meetingDetails?.eventSequenceId"  color="medium"></ion-input>
  </ion-item> -->
  <ion-item class="">
    <ion-label>
      <ion-icon name="options" class="icons"></ion-icon>
      Total no of meetings
    </ion-label>
    <ion-select  [interfaceOptions]="noOfMeetingsASOptions" interface="action-sheet" [(ngModel)]="meetingDetails.noOfOccurence">
      <ion-select-option *ngFor="let f of noOfOccurenceOption" [value]="f">{{f}}</ion-select-option>
    </ion-select>
  </ion-item>
  <ion-item class="" lines="none">
    <ion-label>
      <ion-icon name="infinite" color="dark"></ion-icon>
      Meeting Frequency
    </ion-label>
    <ion-input class="ion-text-end" type="text" value=""  color="medium"></ion-input>
  </ion-item>
  <ion-list class="">
    <ion-radio-group [(ngModel)]="meetingDetails.occurenceType" [value]="meetingDetails?.occurenceType">
      <ion-item>
        <ion-label>Daily</ion-label>
        <ion-radio value="daily"></ion-radio>
      </ion-item>
      <ion-item *ngIf="meetingDetails.occurenceType=='daily' && !refInformation?.toCascadeChanges" lines="none">
        <ion-label class="ion-text-wrap">
          <p>To enable week day selection set 'Propagate changes to future meetings' on</p>
        </ion-label>
      </ion-item>

      <ion-list *ngIf="meetingDetails?.occurenceType=='daily'">
        <ion-row>
          <ion-col *ngFor="let day of ['MON','TUE','WED','THU','FRI','SAT','SUN'];let i=index;">
            <ion-item lines="none">
              <ion-checkbox slot="start" [(ngModel)]="meetingDetails.weekdays[i==6? 0 : i+1]" disabled="{{!refInformation?.toCascadeChanges}}"
                ></ion-checkbox>
              <ion-label class="ion-no-margin">{{day}}</ion-label>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-list>
      <ion-item class="">
        <ion-label>Weekly</ion-label>
        <ion-radio value="weekly"></ion-radio>
      </ion-item>
      <ion-item class="">
        <ion-label>Fortnightly</ion-label>
        <ion-radio value="fortnightly"></ion-radio>
      </ion-item>
      <ion-item class="">
        <ion-label>Monthly</ion-label>
        <ion-radio value="monthly"></ion-radio>
      </ion-item>
      <ion-item class="">
        <ion-label>Quarterly</ion-label>
        <ion-radio value="quarterly"></ion-radio>
      </ion-item>
    </ion-radio-group>
  </ion-list>
</div>
<ion-item lines="none">
  <ion-label><ion-icon name="bookmark"></ion-icon> Status</ion-label>
  <ion-button slot="end"
    [color]="meetingDetails?.status=='OPEN'? 'warning' : meetingDetails?.status=='COMPLETED' ? 'green' : 'danger'"
    class="ion-padding-start ion-padding-end"
    >
    {{meetingDetails?.status}}
  </ion-button>
</ion-item>
<ion-segment *ngIf="editMode=='update'" mode="ios"
  [(ngModel)]="meetingDetails.status"
  (ionChange)="statusChanged($event)">
  <ion-segment-button value="OPEN" layout="icon-start">
    <ion-label color="warning">Open</ion-label>
    <ion-icon name="ellipse-outline" color="warning"></ion-icon>
  </ion-segment-button>
  <ion-segment-button value="COMPLETED" layout="icon-start">
    <ion-label color="green">Complete</ion-label>
    <ion-icon name="checkmark-done" color="green"></ion-icon>
  </ion-segment-button>
  <ion-segment-button value="CANCEL" layout="icon-start">
    <ion-label color="danger">Cancel</ion-label>
    <ion-icon name="close" color="danger"></ion-icon>
  </ion-segment-button>
</ion-segment>
