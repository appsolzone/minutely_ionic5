<ion-item>
  <ion-label>
    <ion-icon name="person-circle"></ion-icon>
    Organiser
  </ion-label>
  <ion-input  readonly="true" type="text" [value]="meetingDetails?.ownerId.name" class="ion-text-end"  color="medium">
  </ion-input>
  <ion-buttons slot="end">
    <ion-button slot="end" (click)="showSelectOwner=!showSelectOwner">
      <ion-icon slot="icon-only" name="create-outline" color="primary"></ion-icon>
    </ion-button>
  </ion-buttons>
</ion-item>
<app-select-users
  *ngIf="showSelectOwner"
  [sessionInfo]="sessionInfo"
  [alreadySelectedUserList]="meetingDetails?.ownerId? [meetingDetails?.ownerId] : []"
  [multiSelect]="false"
  (onSelectionComplete)="changeMeetingOwner($event)"
  ></app-select-users>
<ion-item *ngIf="!showSelectOwner">
  <ion-avatar slot="start">
    <img
      src="{{(meetingDetails?.ownerId.picUrl) ? meetingDetails?.ownerId.picUrl : 'assets/shapes.svg'}}"
      (error)="profileImgErrorHandler(meetingDetails?.ownerId)"/>
  </ion-avatar>
  <ion-label>
    <h3>{{meetingDetails?.ownerId.name}}</h3>
    <p><small>{{meetingDetails?.ownerId.email}}</small></p>
  </ion-label>
</ion-item>

<ion-item >
  <ion-label><ion-icon name="people-circle"></ion-icon> Attendees</ion-label>
  <ion-input  readonly="true" type="text" [value]="meetingDetails?.attendeeList.length + ' person'" class="ion-text-end"  color="medium">
  </ion-input>
  <ion-buttons slot="end">
    <ion-button slot="end" (click)="showSelectAttendees=!showSelectAttendees">
      <ion-icon slot="icon-only" name="create-outline" color="primary"></ion-icon>
    </ion-button>
  </ion-buttons>
</ion-item>
<app-select-users
  *ngIf="showSelectAttendees"
  [sessionInfo]="sessionInfo"
  [alreadySelectedUserList]="meetingDetails?.attendeeList? meetingDetails?.attendeeList : []"
  [multiSelect]="true"
  (onSelectionComplete)="processAttendeeList($event)"
  ></app-select-users>
<ion-list *ngIf="!showSelectAttendees">
  <ion-item *ngFor="let data of meetingDetails?.attendeeList; let i = index;">
    <ion-avatar slot="start">
      <img
        src="{{(data.picUrl) ? data.picUrl : 'assets/shapes.svg'}}"
        (error)="profileImgErrorHandler(data)"/>
    </ion-avatar>
    <ion-label>
      <h3>{{data.name}}</h3>
      <p><small>{{data.email}}</small></p>
    </ion-label>
    <ion-buttons slot="end">
      <ion-button slot="end" [color]="data.accepted=='accept' ? 'success' : data.accepted=='decline' ? 'danger' : 'medium'">
        <ion-icon name="paw" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-item>
</ion-list>
