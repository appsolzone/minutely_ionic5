<ion-item color="light">
  <ion-label>
    <h1>Custom Roles</h1>
    <p>Select a role to edit permissions</p>
  </ion-label>
  <ion-button slot="end" fill="outline" size="small" (click)="goToEditRoleMobile(null)">
    <ion-icon name="add" slot="icon-only"></ion-icon>
  </ion-button>
</ion-item>
<ion-row>
  <ion-card mode="" *ngIf="allRoles && allRoles.length==0">
    <ion-item lines="none">
      <ion-label class="ion-text-wrap">
        <h2>No custom roles found</h2>
        <br/>
        <p>To create custom role, select a template from the list of available <b>System Roles</b></p>
        <p>Provide the role name</p>
        <p>Add role description</p>
        <p>Select the features and grant permissions as required</p>
        <br/>
      </ion-label>
    </ion-item>
    <ion-item lines="none" class="ion-margin-bottom">
      <ion-button slot="end" size="default" (click)="goToEditRoleMobile(null)">Create Role</ion-button>
    </ion-item>
  </ion-card>
  <ion-col *ngFor="let role of allRoles ? allRoles : [null,null,null]; let i=index;">
    <ion-card mode="ios" class="uniform-card-height ion-no-margin app-margin-5px"
    [button]="true" (click)="role ? goToEditRoleMobile(role) : null"
    >
          <ion-item *ngIf="role" color="">
            <ion-icon name="person-circle" slot="start"></ion-icon>
            <ion-label class="ion-text-wrap">
              <h2>{{role.data.roleName}}</h2>
              <p>{{role.data.description}}</p>
            </ion-label>
          </ion-item>
          <ion-item *ngIf="role" color="" lines="none" class="ion-hide-md-down">
            <ion-label class="ion-text-wrap">
              <ion-chip *ngFor="let ftr of features"
                [color] = "role.data.features[ftr]?.access ? 'success' : 'medium'"
                [class] = "role.data.features[ftr]?.access ? '' : 'ion-hide'"
              >
                <ion-label><small>{{appFeatures[ftr].featureName}}</small></ion-label>
              </ion-chip>
            </ion-label>
          </ion-item>
          <ion-item *ngIf="!role" color="">
            <ion-icon name="person-circle" slot="start" color="medium"></ion-icon>
            <ion-label class="ion-text-wrap">
              <h2><ion-skeleton-text animated style="width: 100%"></ion-skeleton-text></h2>
              <p><ion-skeleton-text animated style="width: 100%"></ion-skeleton-text></p>
              <p><ion-skeleton-text animated style="width: 100%"></ion-skeleton-text></p>
            </ion-label>
          </ion-item>
          <ion-item *ngIf="!role" color="" lines="none" class="ion-hide-md-down">
            <ion-label class="ion-text-wrap">
              <ion-chip *ngFor="let ftr of [null,null,null]"
                color = "medium"
              >
                <ion-label><small><ion-skeleton-text animated style="width: 20px"></ion-skeleton-text></small></ion-label>
              </ion-chip>
            </ion-label>
          </ion-item>
    </ion-card>
  </ion-col>
</ion-row>
